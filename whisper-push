#!/bin/bash
# Wrapper script to set up CUDA libs before launching Python

SCRIPT_DIR="$(cd "$(dirname "$(readlink -f "$0")")" && pwd)"
SITE_PACKAGES="$SCRIPT_DIR/.venv/lib/python3.12/site-packages"

export LD_LIBRARY_PATH="$SITE_PACKAGES/nvidia/cublas/lib:$SITE_PACKAGES/nvidia/cudnn/lib:$LD_LIBRARY_PATH"

exec "$SCRIPT_DIR/.venv/bin/python" "$SCRIPT_DIR/whisper-push.py" "$@"
